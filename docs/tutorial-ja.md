# Grimoireチュートリアル

## はじめに

Grimoireへようこそ！このチュートリアルでは、文字を使わずに純粋な記号と図形だけでプログラムを作成する方法を学びます。

## 最初のプログラム: 星を表示

### 1. 基本的な出力

**重要**: すべてのGrimoireプログラムは外周円を持つ魔法陣として記述されます。これは魔法の力を封じ込め、制御するための必須要素です。

最も簡単なGrimoireプログラムは以下のような魔法陣です：

```
     ╱─────╲
   ╱    ◎   ╲    ← 外周円（必須）
  │     │     │
  │     ☆     │   ← 星を表示
   ╲         ╱
     ╲─────╱
```

- 外周円: 魔法陣の境界（すべてのプログラムに必須）
- `◎`: メインエントリーポイント（二重円）- 魔法の開始点
- `│`: エネルギーの流れ
- `☆`: 出力/表示（5点星）- 魔法の具現化

このプログラムは画面に星を表示します。外周円がない場合、魔法の力が拡散してしまい、プログラムは実行されません。

### 2. 画像として描く

1. 白い紙またはデジタルキャンバスを用意
2. 黒いペンまたはブラシを使用
3. はっきりとした線で図形を描く
4. 図形間の接続線を忘れずに

## 変数と計算

### 変数の宣言とデータ型

```
    ◎
    │
    □• = •⁵     ← 整数型変数に5を代入
    │
    □•• = ⦿⦿•••  ← 浮動小数点型に23を代入
    │
    □◐          ← ブール型（true）
    │
    ☆
```

データ型は図形内のパターンで識別：
- `•`: 整数型（単一の点）
- `••`: 浮動小数点型（二重点）
- `≡`: 文字列型（三本線）
- `◐`: ブール型（半円）
- `※`: 配列型（星形配置の点）
- `⊞`: マップ型（グリッドパターン）

### 数値の表現

```
• = 1
•• = 2
••• = 3
•⁴ = 4
•⁵ = 5
⦿ = 10
⦿• = 11
⦿⦿ = 20
⊡ = 100
⊙ = 1000
```

### 算術演算 - 魔法陣の力学

Grimoireでは、演算は魔法陣内のエネルギーパターンとして表現されます：

```
     ╱──────────╲
   ╱   □•⦿      ╲   ← 第一の値（10）
  │       ╲      │
  │        ⟐     │   ← 結合/加算の印（エネルギーの収束）
  │       ╱      │
  │   □•⁵       │   ← 第二の値（5）
  │       │      │
  │       ☆      │   ← 結果を表示（15）
   ╲            ╱
     ╲────────╱
```

魔法陣の演算記号：
- `⟐`: 加算/結合 - 2つのエネルギーが1つに収束
- `⟑`: 減算/分離 - 1つのエネルギーから分岐
- `✦`: 乗算/増幅 - 4点星による力の増幅
- `⟠`: 除算/分割 - 8分割円による力の分配

### 演算の原理
- **収束パターン（⟐）**: 複数の要素が中心に向かって集まる配置は加算や結合を表します
- **発散パターン（⟑）**: 中心から外側に広がる配置は減算や分離を表します
- **増幅パターン（✦）**: 星形の配置は力の増幅（乗算）を表します
- **分割パターン（⟠）**: 円を等分する配置は均等な分配（除算）を表します

## 条件分岐 - 運命の分岐点

### 基本的な条件分岐

魔法陣内での条件分岐は、エネルギーの流れが分かれる地点として表現されます：

```
     ╱─────────╲
   ╱   □• = •⁵  ╲   ← 変数に5を代入
  │      │       │
  │      △       │   ← 条件判定の三角（運命の分岐点）
  │     ╱ ╲      │
  │   <⦿   ≥⦿   │   ← 10より小/以上
  │   ╱     ╲    │
  │  ☀       ☾   │   ← 開始/終了（昼と夜の選択）
   ╲             ╱
     ╲─────────╱
```

### 魔法陣における配置の意味
- **三角形（△）**: 上向きの三角は選択と決定を表す
- **左側の分岐**: 過去や条件を満たさない場合の道
- **右側の分岐**: 未来や条件を満たす場合の道
- **☀と☾**: 対立する概念（光と闇、開始と終了）を表す

比較演算子：
- `<`: より小さい
- `>`: より大きい
- `≤`: 以下
- `≥`: 以上
- `=`: 等しい
- `≠`: 等しくない

## ループ - 循環する魔法

### 基本的なループ

魔法陣内でのループは、エネルギーが循環する構造として表現されます：

```
     ╱─────────╲
   ╱    □⦿     ╲    ← カウンター（10）
  │      │       │
  │      ⬟       │   ← 五角形（反復の印）
  │      │       │
  │      ☆       │   ← 毎回星を表示
  │      │       │
  │      ⟲       │   ← 循環の印（時計回り）
   ╲             ╱
     ╲─────────╱
```

### 無限ループ - 永遠の循環

```
     ╱─────────╲
   ╱    ⬟←∞    ╲   ← 無限の循環
  │      │       │
  │      △       │   ← 終了条件の判定
  │     ╱│       │
  │    ☾ │       │   ← 循環からの脱出
  │      ☆       │
  │      │       │
  │      ⟲       │   ← 循環の継続
   ╲             ╱
     ╲─────────╱
```

### 循環の原理
- **時計回り（⟲）**: 通常の進行、エネルギーの蓄積
- **反時計回り**: 逆行、エネルギーの解放
- **五角形（⬟）**: 安定した反復を表す神聖幾何学

## 関数 - 魔法の術式

### 関数定義 - 術式の創造

魔法陣内での関数は、再利用可能な魔法の術式として定義されます：

```
     ╱──────────╲
   ╱      ○      ╲   ← 円（術式の容器）
  │   ├→ □•      │   ← 第一の触媒（整数）
  │   ├→ □•      │   ← 第二の触媒（整数）
  │      │       │
  │   □• ⟐ □•    │   ← 結合の術式
  │      │       │
  │     ←□•      │   ← 術式の結果
   ╲            ╱
     ╲────────╱
```

### 関数呼び出し - 術式の発動

```
     ╱──────────╲
   ╱      ◎      ╲
  │  ├─ □•=•••   │   ← 3を準備
  │  ├─ □•=•⁴    │   ← 4を準備
  │  ├─ ○        │   ← 術式を発動
  │  └─ ☆        │   ← 結果を具現化
   ╲            ╱
     ╲────────╱
```

### 術式の原理
- **円（○）**: 独立した魔法空間を表す
- **矢印（→、←）**: エネルギーの入出力方向
- **接続**: 術式への力の伝達経路

## 配列とコレクション

### 配列の作成と操作

```
□※           ← 配列型変数
├─ •         ← 要素1
├─ ••        ← 要素2
└─ •••       ← 要素3
│
☆            ← 配列を表示
```

### マップ/辞書

```
□⊞           ← マップ型変数
├─ [•] → [⦿]    ← キー1 → 値10
└─ [••] → [⦿⦿]  ← キー2 → 値20
```

## エラー処理

### Try-Catchパターン

```
○            ← tryブロック
│
～～～       ← 例外可能なフロー
│
⚡           ← エラー発生
│
○            ← catchブロック
│
✗            ← 失敗を表示
```

## 並列処理 - 同時展開の魔法

### 基本的な並列実行

魔法陣内での並列処理は、複数の魔法を同時に展開する高度な術式です：

```
     ╱────────────╲
   ╱       ⬢       ╲   ← 六角形（並列展開の印）
  │     ╱│╲       │
  │    ╱ │ ╲      │   ← エネルギーの分散
  │   ○  ○  ○     │   ← 独立した術式空間
  │   │  │  │     │
  │   ☆  ♪  ✉     │   ← 各術式の効果
  │    ╲ │ ╱      │   ← エネルギーの収束
  │     ╲│╱       │
  │       ⬢        │   ← 同期点
  │       │        │
  │       ✓        │   ← 成功の印
   ╲              ╱
     ╲──────────╱
```

### 並列処理の原理
- **六角形（⬢）**: 6つの方向への力の均等分配
- **分散と収束**: エネルギーは分かれて並列に流れ、再び一つに集まる
- **独立空間**: 各円（○）は独立して動作する小宇宙

## 実践的な例

### フィボナッチ数列 - 螺旋の魔法

フィボナッチ数列は自然界の螺旋パターンを表現する神聖な数列です：

```
     ╱───────────────╲
   ╱        ○         ╲   ← フィボナッチ術式
  │    ├→ □•         │   ← 入力値n
  │         │         │
  │         △         │   ← n ≤ 1の判定
  │        ╱│╲        │
  │      ≤• │ >•      │
  │      │  │  │      │
  │      ☆  │  │      │   ← nをそのまま返す
  │         │  │      │
  │    ┌────┴──┴───┐  │
  │    │           │  │
  │    ○-•      ○-•• │   ← 再帰的な螺旋
  │    │           │  │
  │    └─────┬─────┘  │
  │          │        │
  │          ⟐        │   ← 結合の印
  │          │        │
  │          ☆        │   ← 結果の具現化
   ╲                 ╱
     ╲─────────────╱
```

### カウンタープログラム - 計数の魔法陣

```
     ╱───────────────╲
   ╱        ◎         ╲
  │    ├─ □• = ∅     │   ← 虚無から始まる（0）
  │         │         │
  │    └─ ⬟ ← ⊡     │   ← 百回の循環
  │         │         │
  │      □• ⟐ •      │   ← 一つずつ力を蓄積
  │         │         │
  │         △         │   ← 十の倍数の判定
  │        ╱│         │
  │       ☆ │         │   ← 節目での顕現
  │         │         │
  │         ⟲         │   ← 循環の継続
   ╲                 ╱
     ╲─────────────╱
```

## 魔法陣を描くコツ

### 1. 外周円の重要性
- **必ず外周円から描き始める** - これが魔法陣の境界となる
- 円は完全に閉じて、魔法の力が漏れないようにする
- 外周円がないとコンパイルエラーになる

### 2. エネルギーの流れ
- 上から下へ、中心から外側へが基本
- 時計回りは蓄積、反時計回りは解放
- 線は図形の境界に確実に接触させる

### 3. 魔法陣の配置原則
- **中心**: 最も重要な要素（メインエントリーなど）
- **上部**: 入力や開始点
- **下部**: 出力や終了点
- **左側**: 過去や条件
- **右側**: 未来や結果

### 4. 対称性と調和
- 対称的な配置は安定した魔法を生む
- 非対称は動的な変化を表現
- 螺旋は成長と反復を表す

### 5. 演算の表現
- **収束（⟐）**: 複数の線が一点に集まる
- **発散（⟑）**: 一点から複数に分かれる
- **増幅（✦）**: 星形で力の増大を表す
- **分割（⟠）**: 円を等分して均等配分を表す

## デバッグ

### デバッグシンボル

```
○            ← 関数
├─ 👁        ← ウォッチポイント
├─ 🐛        ← ブレークポイント
└─ 📍        ← アサーション
```

## まとめ - 魔法陣プログラミングの本質

Grimoireは単なるビジュアル言語ではなく、古代の魔法陣の知恵とプログラミングを融合させた言語です：

### 核心原則
- **すべてのプログラムは魔法陣（外周円）の中に封じられる**
- エネルギーの流れと配置に意味がある
- 演算は収束・発散・増幅・分割のパターンで表現
- 対称性と配置が魔法の性質を決定する

### 魔法陣の力学
- **外周円**: 魔法を封じ込める境界（必須）
- **中心**: 最も重要な要素が置かれる
- **流れ**: 上から下、中心から外側へ
- **循環**: 時計回りで力を蓄積

### プログラミングの新たな視点
- コードは魔法陣として視覚化される
- 演算は神秘的なエネルギーパターン
- デバッグは魔法陣の乱れを見つけること

さあ、紙とペンを手に取り、あなたの最初の魔法陣を描いてみましょう！

---

*次のステップ: [言語仕様](language-spec-ja.md)を詳しく学ぶ*