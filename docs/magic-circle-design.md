# 魔法陣デザイン仕様

## 基本構造

すべてのGrimoireプログラムは、以下の構造を持つ魔法陣として表現されます：

### 1. 外周円（必須）
- すべての魔法陣は外側の大きな円で囲まれる
- この円が魔法陣の境界を定義
- 二重円の場合はメインエントリポイント（◎）

### 2. 内部構造
魔法陣の内部には以下の要素を配置：

#### 中心部
- プログラムの核となる要素を配置
- メイン処理や重要な変数

#### 円周部
- 補助的な要素や関数を配置
- 内側の小さな円として表現

#### 接続線
- 要素間の関係を示す
- 魔法陣内部での線は幾何学的パターンを形成

### 3. 魔法陣のパターン

#### 基本パターン（Hello World）
```
     ╱─────╲
   ╱         ╲
  │     ☆     │
   ╲         ╱
     ╲─────╱
```

#### 条件分岐パターン
```
     ╱─────╲
   ╱    △    ╲
  │   ╱   ╲   │
  │  ☀     ☾  │
   ╲         ╱
     ╲─────╱
```

#### 関数定義パターン
```
     ╱─────╲
   ╱    ○    ╲
  │  □• □•   │
  │     +     │
  │     ☆     │
   ╲         ╱
     ╲─────╱
```

### 4. 複雑な魔法陣

#### 多重円構造
- 内側に複数の円を配置
- 各円は独立した機能やスコープを表現

#### 幾何学的配置
- 正三角形配置：3つの要素の関係
- 正方形配置：4つの要素の関係
- 五芒星配置：5つの要素の循環関係
- 六芒星配置：6つの要素の並列処理

### 5. 装飾的要素

#### ルーン文字風の記号
- 円周に沿って配置される補助記号
- プログラムのメタ情報を表現

#### 魔法陣の分割線
- 円を扇形に分割して領域を作る
- 各領域に異なる機能を配置

### 6. 実装例

#### フィボナッチ数列の魔法陣
```
        ╱───────────╲
      ╱      ○       ╲
    ╱    ╱─┴─╲      ╲
   │   □•     △      │
   │         ╱ ╲     │
   │        ≤   >     │
   │       ☆   ○○    │
   │            +     │
    ╲          ☆    ╱
      ╲            ╱
        ╲─────────╱
```

#### 並列処理の魔法陣
```
        ╱───────────╲
      ╱      ⬢       ╲
    ╱    ╱  │  ╲     ╲
   │   ○   ○   ○    │
   │   ☆   ♪   ✉    │
   │    ╲  │  ╱      │
   │      ⬢         │
    ╲      ✓        ╱
      ╲            ╱
        ╲─────────╱
```

### 7. デザイン原則

1. **中心性**: 重要な要素は中心に配置
2. **対称性**: 可能な限り対称的なデザイン
3. **階層性**: 外側から内側へ重要度が増す
4. **接続性**: 線は曲線的で有機的なパターン
5. **完全性**: すべての要素は外周円の内部に収まる

### 8. 色彩（オプション）

モノクロが基本だが、以下の色を使用可能：
- 黒: 基本的な線と記号
- 赤: エラー処理や警告
- 青: 入力や外部参照
- 緑: 成功や出力
- 紫: 魔法的な要素（並列処理など）